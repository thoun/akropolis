$x0: 400px;
$y0: 300px;

.frame {
    position: relative;
    height: #{$y0 * 2};
    overflow: hidden;
}

.city {
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    transform-origin: 50% 50%;
    position: relative;

    .grid {
        position: absolute;
        top: 50%;
        left: 50%;
    }

    width: 100%;
    height: 100%;
    //width: #{$x0 * 2};
    //height: #{$y0 * 2};
    // border: 1px solid gray;

    .hex {
        left: calc($hexSide * -1 + ($hexSide * var(--x) * 1.5));
        top: calc(($hexHeight * var(--y) / 2));
    }

    .tile {
        left: calc($hexSide * -1.5 + ($hexSide * var(--x) * 1.5));
        top: calc(($hexHeight * var(--y) / 2));
        transform: translateZ(calc($hexThickness * var(--z))) rotate(calc(60deg * var(--r)));

        &[data-selected-hex-index="0"] {
            transform-origin: #{$hexSide * 1.5} #{$hexHeight * 0.5};
        }
        &[data-selected-hex-index="1"] {
            transform-origin: #{$hexSide * 3} #{$hexHeight};
        }
        &[data-selected-hex-index="2"] {
            transform-origin: #{$hexSide * 1.5} #{$hexHeight * 1.5};
        }

        .hex {
            --z: 0;
            left: calc($hexSide * (0.5 + var(--x) * 1.5));
            top: calc($hexHeight * var(--y) / 2);
        }
    }
}